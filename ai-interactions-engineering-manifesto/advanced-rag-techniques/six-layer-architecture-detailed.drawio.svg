<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than draw.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" style="background: transparent; background-color: transparent; color-scheme: light dark;" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1653px" height="971px" viewBox="0 0 1653 971" content="&lt;mxfile host=&quot;app.diagrams.net&quot; agent=&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0&quot; version=&quot;28.2.7&quot;&gt;&#10;  &lt;diagram name=&quot;Six Layer Architecture&quot; id=&quot;six-layer&quot;&gt;&#10;    &lt;mxGraphModel dx=&quot;1660&quot; dy=&quot;844&quot; grid=&quot;1&quot; gridSize=&quot;10&quot; guides=&quot;1&quot; tooltips=&quot;1&quot; connect=&quot;1&quot; arrows=&quot;1&quot; fold=&quot;1&quot; page=&quot;1&quot; pageScale=&quot;1&quot; pageWidth=&quot;1800&quot; pageHeight=&quot;1200&quot; math=&quot;0&quot; shadow=&quot;0&quot;&gt;&#10;      &lt;root&gt;&#10;        &lt;mxCell id=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;1&quot; parent=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;title&quot; value=&quot;Advanced RAG: Six-Layer Architecture (Detailed)&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;fontSize=20;fontStyle=1;fontColor=#111827;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;500&quot; y=&quot;20&quot; width=&quot;800&quot; height=&quot;35&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer1-bg&quot; value=&quot;&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#EFF6FF;strokeColor=#2563EB;strokeWidth=2;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;50&quot; y=&quot;80&quot; width=&quot;1030&quot; height=&quot;140&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer1-title&quot; value=&quot;Layer 1: Ingestion (Prep Station)&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=14;fontStyle=1;fontColor=#1E3A8A;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;70&quot; y=&quot;90&quot; width=&quot;350&quot; height=&quot;25&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer1-comp1&quot; value=&quot;MarkItDown Converter&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#DBEAFE;strokeColor=#2563EB;strokeWidth=2;fontSize=11;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;90&quot; y=&quot;130&quot; width=&quot;140&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer1-comp2&quot; value=&quot;surveilr Processor&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#DBEAFE;strokeColor=#2563EB;strokeWidth=2;fontSize=11;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;350&quot; y=&quot;130&quot; width=&quot;140&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer1-comp3&quot; value=&quot;Metadata Extractor&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#DBEAFE;strokeColor=#2563EB;strokeWidth=2;fontSize=11;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;610&quot; y=&quot;130&quot; width=&quot;140&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer1-output&quot; value=&quot;Output: Markdown + Frontmatter&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#FEF3C7;strokeColor=#F59E0B;strokeWidth=2;fontSize=11;fontStyle=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;858&quot; y=&quot;130&quot; width=&quot;180&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer1-arrow1&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;strokeWidth=2;strokeColor=#2563EB;fontStyle=1&quot; parent=&quot;1&quot; source=&quot;layer1-comp1&quot; target=&quot;layer1-comp2&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer1-arrow2&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;strokeWidth=2;strokeColor=#2563EB;fontStyle=1&quot; parent=&quot;1&quot; source=&quot;layer1-comp2&quot; target=&quot;layer1-comp3&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer1-arrow3&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;strokeWidth=2;strokeColor=#2563EB;fontStyle=1&quot; parent=&quot;1&quot; source=&quot;layer1-comp3&quot; target=&quot;layer1-output&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer2-bg&quot; value=&quot;&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#F0FDF4;strokeColor=#10B981;strokeWidth=2;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;50&quot; y=&quot;250&quot; width=&quot;1030&quot; height=&quot;140&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer2-title&quot; value=&quot;Layer 2: Indexing (The Pantry)&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=14;fontStyle=1;fontColor=#065F46;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;70&quot; y=&quot;260&quot; width=&quot;350&quot; height=&quot;25&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer2-track1&quot; value=&quot;Contextual Chunker&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#D1FAE5;strokeColor=#10B981;strokeWidth=2;fontSize=10;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;90&quot; y=&quot;300&quot; width=&quot;110&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer2-track2&quot; value=&quot;Embedding Model&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#D1FAE5;strokeColor=#10B981;strokeWidth=2;fontSize=10;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;290&quot; y=&quot;300&quot; width=&quot;110&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer2-track3&quot; value=&quot;Vector DB&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#A7F3D0;strokeColor=#10B981;strokeWidth=2;fontSize=10;fontStyle=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;500&quot; y=&quot;300&quot; width=&quot;110&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer2-track4&quot; value=&quot;BM25 Indexer&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#FDE68A;strokeColor=#F59E0B;strokeWidth=2;fontSize=10;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;700&quot; y=&quot;300&quot; width=&quot;110&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer2-track5&quot; value=&quot;Knowledge Graph&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#C7D2FE;strokeColor=#6366F1;strokeWidth=2;fontSize=10;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;927&quot; y=&quot;300&quot; width=&quot;110&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer3-bg&quot; value=&quot;&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#FEF3C7;strokeColor=#F59E0B;strokeWidth=2;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;50&quot; y=&quot;420&quot; width=&quot;1030&quot; height=&quot;120&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer3-title&quot; value=&quot;Layer 3: Query Analysis (The Sommelier)&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=14;fontStyle=1;fontColor=#78350F;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;70&quot; y=&quot;430&quot; width=&quot;400&quot; height=&quot;25&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer3-input&quot; value=&quot;User Query&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#DBEAFE;strokeColor=#2563EB;strokeWidth=2;fontSize=11;fontStyle=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;90&quot; y=&quot;470&quot; width=&quot;120&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer3-classifier&quot; value=&quot;Query Classifier&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#FDE68A;strokeColor=#F59E0B;strokeWidth=2;fontSize=10;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;290&quot; y=&quot;470&quot; width=&quot;110&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer3-intent&quot; value=&quot;Intent Detector&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#FDE68A;strokeColor=#F59E0B;strokeWidth=2;fontSize=10;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;500&quot; y=&quot;470&quot; width=&quot;110&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer3-rewriter&quot; value=&quot;Query Rewriter&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#FDE68A;strokeColor=#F59E0B;strokeWidth=2;fontSize=10;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;706&quot; y=&quot;470&quot; width=&quot;110&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer3-output&quot; value=&quot;Processed Query&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#FEF3C7;strokeColor=#F59E0B;strokeWidth=2;fontSize=10;fontStyle=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;901&quot; y=&quot;470&quot; width=&quot;140&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer3-arrow1&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;strokeWidth=2;strokeColor=#F59E0B;fontStyle=1&quot; parent=&quot;1&quot; source=&quot;layer3-input&quot; target=&quot;layer3-classifier&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer3-arrow2&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;strokeWidth=2;strokeColor=#F59E0B;fontStyle=1&quot; parent=&quot;1&quot; source=&quot;layer3-classifier&quot; target=&quot;layer3-intent&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer3-arrow3&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;strokeWidth=2;strokeColor=#F59E0B;fontStyle=1&quot; parent=&quot;1&quot; source=&quot;layer3-intent&quot; target=&quot;layer3-rewriter&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer3-arrow4&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;strokeWidth=2;strokeColor=#F59E0B;fontStyle=1&quot; parent=&quot;1&quot; source=&quot;layer3-rewriter&quot; target=&quot;layer3-output&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer4-bg&quot; value=&quot;&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#E0E7FF;strokeColor=#6366F1;strokeWidth=2;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;50&quot; y=&quot;570&quot; width=&quot;1030&quot; height=&quot;120&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer4-title&quot; value=&quot;Layer 4: Retrieval (Kitchen Brigade)&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=14;fontStyle=1;fontColor=#312E81;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;70&quot; y=&quot;580&quot; width=&quot;400&quot; height=&quot;25&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer4-vector&quot; value=&quot;Vector Retriever&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#C7D2FE;strokeColor=#6366F1;strokeWidth=2;fontSize=10;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;90&quot; y=&quot;620&quot; width=&quot;110&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer4-bm25&quot; value=&quot;BM25 Retriever&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#C7D2FE;strokeColor=#6366F1;strokeWidth=2;fontSize=10;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;283&quot; y=&quot;620&quot; width=&quot;110&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer4-graph&quot; value=&quot;Graph Retriever&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#C7D2FE;strokeColor=#6366F1;strokeWidth=2;fontSize=10;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;480&quot; y=&quot;620&quot; width=&quot;110&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer4-pageindex&quot; value=&quot;PageIndex Navigator&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#C7D2FE;strokeColor=#6366F1;strokeWidth=2;fontSize=10;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;696&quot; y=&quot;620&quot; width=&quot;130&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer4-fusion&quot; value=&quot;Fusion Module&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#A5B4FC;strokeColor=#6366F1;strokeWidth=2;fontSize=11;fontStyle=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;918&quot; y=&quot;620&quot; width=&quot;120&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer5-bg&quot; value=&quot;&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#FCE7F3;strokeColor=#EC4899;strokeWidth=2;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;50&quot; y=&quot;720&quot; width=&quot;1030&quot; height=&quot;120&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer5-title&quot; value=&quot;Layer 5: Reasoning and Ranking (The Chef)&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=14;fontStyle=1;fontColor=#831843;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;70&quot; y=&quot;730&quot; width=&quot;450&quot; height=&quot;25&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer5-input&quot; value=&quot;Candidate Context&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#C7D2FE;strokeColor=#6366F1;strokeWidth=2;fontSize=10;fontStyle=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;90&quot; y=&quot;770&quot; width=&quot;120&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer5-reranker&quot; value=&quot;Reranker (Cross-Encoder)&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#FBCFE8;strokeColor=#EC4899;strokeWidth=2;fontSize=10;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;340&quot; y=&quot;770&quot; width=&quot;130&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer5-reasoning&quot; value=&quot;Self-Reasoning Loop&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#FBCFE8;strokeColor=#EC4899;strokeWidth=2;fontSize=11;fontStyle=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;610&quot; y=&quot;770&quot; width=&quot;160&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer5-output&quot; value=&quot;Validated Context&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#F9A8D4;strokeColor=#EC4899;strokeWidth=2;fontSize=11;fontStyle=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;911&quot; y=&quot;770&quot; width=&quot;130&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer5-arrow1&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;strokeWidth=2;strokeColor=#EC4899;fontStyle=1&quot; parent=&quot;1&quot; source=&quot;layer5-input&quot; target=&quot;layer5-reranker&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer5-arrow2&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;strokeWidth=2;strokeColor=#EC4899;fontStyle=1&quot; parent=&quot;1&quot; source=&quot;layer5-reranker&quot; target=&quot;layer5-reasoning&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer5-arrow3&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;strokeWidth=2;strokeColor=#EC4899;fontStyle=1&quot; parent=&quot;1&quot; source=&quot;layer5-reasoning&quot; target=&quot;layer5-output&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer6-bg&quot; value=&quot;&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#DBEAFE;strokeColor=#2563EB;strokeWidth=2;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;50&quot; y=&quot;870&quot; width=&quot;1030&quot; height=&quot;120&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer6-title&quot; value=&quot;Layer 6: Generation (Plating)&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=14;fontStyle=1;fontColor=#1E3A8A;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;70&quot; y=&quot;880&quot; width=&quot;350&quot; height=&quot;25&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer6-context&quot; value=&quot;Validated Context&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#F9A8D4;strokeColor=#EC4899;strokeWidth=2;fontSize=10;fontStyle=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;90&quot; y=&quot;920&quot; width=&quot;110&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer6-llm&quot; value=&quot;LLM Generator&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#93C5FD;strokeColor=#2563EB;strokeWidth=2;fontSize=11;fontStyle=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;290&quot; y=&quot;920&quot; width=&quot;120&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer6-citations&quot; value=&quot;Citation Mapper&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#93C5FD;strokeColor=#2563EB;strokeWidth=2;fontSize=10;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;500&quot; y=&quot;920&quot; width=&quot;110&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer6-quality&quot; value=&quot;Quality Checker&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#93C5FD;strokeColor=#2563EB;strokeWidth=2;fontSize=10;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;696&quot; y=&quot;920&quot; width=&quot;110&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer6-output&quot; value=&quot;Final Answer with Evidence&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#3B82F6;strokeColor=#2563EB;strokeWidth=3;fontSize=11;fontColor=#FFFFFF;fontStyle=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;886&quot; y=&quot;920&quot; width=&quot;150&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer6-arrow1&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;strokeWidth=2;strokeColor=#2563EB;fontStyle=1&quot; parent=&quot;1&quot; source=&quot;layer6-context&quot; target=&quot;layer6-llm&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer6-arrow2&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;strokeWidth=2;strokeColor=#2563EB;fontStyle=1&quot; parent=&quot;1&quot; source=&quot;layer6-llm&quot; target=&quot;layer6-citations&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer6-arrow3&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;strokeWidth=2;strokeColor=#2563EB;fontStyle=1&quot; parent=&quot;1&quot; source=&quot;layer6-citations&quot; target=&quot;layer6-quality&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;layer6-arrow4&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;strokeWidth=3;strokeColor=#2563EB;fontStyle=1&quot; parent=&quot;1&quot; source=&quot;layer6-quality&quot; target=&quot;layer6-output&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;monitoring-bg&quot; value=&quot;&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#F3F4F6;strokeColor=#6B7280;strokeWidth=2;dashed=1;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1100&quot; y=&quot;80&quot; width=&quot;600&quot; height=&quot;200&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;monitoring-title&quot; value=&quot;Monitoring and Feedback&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;fontSize=14;fontStyle=1;fontColor=#374151;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1150&quot; y=&quot;95&quot; width=&quot;500&quot; height=&quot;25&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;monitoring-ragas&quot; value=&quot;RAGAS Evaluator (Continuous)&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#DBEAFE;strokeColor=#2563EB;strokeWidth=2;fontSize=10;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1130&quot; y=&quot;140&quot; width=&quot;180&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;monitoring-feedback&quot; value=&quot;User Feedback Collector&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#D1FAE5;strokeColor=#10B981;strokeWidth=2;fontSize=10;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1350&quot; y=&quot;140&quot; width=&quot;180&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;monitoring-dashboard&quot; value=&quot;Metric Dashboard (Real-time)&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#FEF3C7;strokeColor=#F59E0B;strokeWidth=2;fontSize=10;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1130&quot; y=&quot;200&quot; width=&quot;180&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;monitoring-loop&quot; value=&quot;Feedback to Layers 2 and 5&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#E0E7FF;strokeColor=#6366F1;strokeWidth=1;fontSize=9;dashed=1;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1350&quot; y=&quot;200&quot; width=&quot;180&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;legend-bg&quot; value=&quot;&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#E5E7EB;strokeWidth=2;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1101&quot; y=&quot;320&quot; width=&quot;600&quot; height=&quot;200&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;legend-title&quot; value=&quot;Legend&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;fontSize=12;fontStyle=1;fontColor=#111827;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1301&quot; y=&quot;330&quot; width=&quot;200&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;legend-data-arrow&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;strokeWidth=2;strokeColor=#2563EB;fontStyle=1&quot; parent=&quot;1&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;1131&quot; y=&quot;370&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;1181&quot; y=&quot;370&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;legend-data-text&quot; value=&quot;Data Flow&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=9;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1191&quot; y=&quot;360&quot; width=&quot;120&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;legend-control-arrow&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;strokeWidth=2;strokeColor=#F59E0B;fontStyle=1&quot; parent=&quot;1&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;1131&quot; y=&quot;400&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;1181&quot; y=&quot;400&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;legend-control-text&quot; value=&quot;Control Flow&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=9;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1191&quot; y=&quot;390&quot; width=&quot;120&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;legend-feedback-arrow&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;strokeWidth=2;strokeColor=#10B981;dashed=1;fontStyle=1&quot; parent=&quot;1&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;1131&quot; y=&quot;430&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;1181&quot; y=&quot;430&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;legend-feedback-text&quot; value=&quot;Feedback Loop&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=9;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1191&quot; y=&quot;420&quot; width=&quot;120&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;legend-mandatory&quot; value=&quot;&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#FEF3C7;strokeColor=#F59E0B;strokeWidth=2;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1131&quot; y=&quot;460&quot; width=&quot;50&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;legend-mandatory-text&quot; value=&quot;Mandatory Component&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=9;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1191&quot; y=&quot;465&quot; width=&quot;150&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;legend-optional&quot; value=&quot;&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#6B7280;strokeWidth=2;dashed=1;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1401&quot; y=&quot;460&quot; width=&quot;50&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;legend-optional-text&quot; value=&quot;Optional Component&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=9;fontStyle=1&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1461&quot; y=&quot;465&quot; width=&quot;150&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vertical-flow1&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;strokeWidth=3;strokeColor=#6B7280;fontStyle=1&quot; parent=&quot;1&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;582&quot; y=&quot;220&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;582&quot; y=&quot;250&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vertical-flow2&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;strokeWidth=3;strokeColor=#6B7280;fontStyle=1&quot; parent=&quot;1&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;583&quot; y=&quot;390&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;583&quot; y=&quot;420&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vertical-flow3&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;strokeWidth=3;strokeColor=#6B7280;fontStyle=1&quot; parent=&quot;1&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;582&quot; y=&quot;540&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;582&quot; y=&quot;570&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vertical-flow4&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;strokeWidth=3;strokeColor=#6B7280;fontStyle=1&quot; parent=&quot;1&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;580&quot; y=&quot;690&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;580&quot; y=&quot;720&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;vertical-flow5&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;strokeWidth=3;strokeColor=#6B7280;fontStyle=1&quot; parent=&quot;1&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;580&quot; y=&quot;840&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;580&quot; y=&quot;870&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;      &lt;/root&gt;&#10;    &lt;/mxGraphModel&gt;&#10;  &lt;/diagram&gt;&#10;&lt;/mxfile&gt;&#10;"><defs/><g><g data-cell-id="0"><g data-cell-id="1"><g data-cell-id="title"><g transform="translate(0.5,0.5)"><rect x="451" y="0" width="800" height="35" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 7px; margin-left: 851px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #111827; "><div style="display: inline-block; font-size: 20px; font-family: Helvetica; color: light-dark(#111827, #d4dae7); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">Advanced RAG: Six-Layer Architecture (Detailed)</div></div></div></foreignObject><text x="851" y="27" fill="#111827" font-family="Helvetica" font-size="20px" text-anchor="middle" font-weight="bold">Advanced RAG: Six-Layer Architecture (Detailed)</text></switch></g></g></g><g data-cell-id="layer1-bg"><g transform="translate(0.5,0.5)"><rect x="1" y="60" width="1030" height="140" rx="21" ry="21" fill="#eff6ff" stroke="#2563eb" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(239, 246, 255), rgb(21, 27, 35)); stroke: light-dark(rgb(37, 99, 235), rgb(105, 158, 255));"/></g></g><g data-cell-id="layer1-title"><g transform="translate(0.5,0.5)"><rect x="21" y="70" width="350" height="25" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 77px; margin-left: 23px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #1E3A8A; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: light-dark(#1E3A8A, #a3bbff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">Layer 1: Ingestion (Prep Station)</div></div></div></foreignObject><text x="23" y="91" fill="#1E3A8A" font-family="Helvetica" font-size="14px" font-weight="bold">Layer 1: Ingestion (Prep Station)</text></switch></g></g></g><g data-cell-id="layer1-comp1"><g transform="translate(0.5,0.5)"><rect x="41" y="110" width="140" height="60" rx="9" ry="9" fill="#dbeafe" stroke="#2563eb" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(219, 234, 254), rgb(26, 39, 56)); stroke: light-dark(rgb(37, 99, 235), rgb(105, 158, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 140px; margin-left: 42px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">MarkItDown Converter</div></div></div></foreignObject><text x="111" y="143" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="11px" text-anchor="middle" font-weight="bold">MarkItDown Converter</text></switch></g></g></g><g data-cell-id="layer1-comp2"><g transform="translate(0.5,0.5)"><rect x="301" y="110" width="140" height="60" rx="9" ry="9" fill="#dbeafe" stroke="#2563eb" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(219, 234, 254), rgb(26, 39, 56)); stroke: light-dark(rgb(37, 99, 235), rgb(105, 158, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 140px; margin-left: 302px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">surveilr Processor</div></div></div></foreignObject><text x="371" y="143" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="11px" text-anchor="middle" font-weight="bold">surveilr Processor</text></switch></g></g></g><g data-cell-id="layer1-comp3"><g transform="translate(0.5,0.5)"><rect x="561" y="110" width="140" height="60" rx="9" ry="9" fill="#dbeafe" stroke="#2563eb" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(219, 234, 254), rgb(26, 39, 56)); stroke: light-dark(rgb(37, 99, 235), rgb(105, 158, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 140px; margin-left: 562px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Metadata Extractor</div></div></div></foreignObject><text x="631" y="143" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="11px" text-anchor="middle" font-weight="bold">Metadata Extractor</text></switch></g></g></g><g data-cell-id="layer1-output"><g transform="translate(0.5,0.5)"><rect x="809" y="110" width="180" height="60" rx="9" ry="9" fill="#fef3c7" stroke="#f59e0b" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(254, 243, 199), rgb(39, 30, 0)); stroke: light-dark(rgb(245, 158, 11), rgb(162, 87, 0));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 140px; margin-left: 810px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Output: Markdown + Frontmatter</div></div></div></foreignObject><text x="899" y="143" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="11px" text-anchor="middle" font-weight="bold">Output: Markdown + Frontmatter</text></switch></g></g></g><g data-cell-id="layer1-arrow1"><g transform="translate(0.5,0.5)"><path d="M 181 140 L 292.76 140" fill="none" stroke="#2563eb" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(37, 99, 235), rgb(105, 158, 255));"/><path d="M 298.76 140 L 290.76 144 L 292.76 140 L 290.76 136 Z" fill="#2563eb" stroke="#2563eb" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(37, 99, 235), rgb(105, 158, 255)); stroke: light-dark(rgb(37, 99, 235), rgb(105, 158, 255));"/></g></g><g data-cell-id="layer1-arrow2"><g transform="translate(0.5,0.5)"><path d="M 441 140 L 552.76 140" fill="none" stroke="#2563eb" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(37, 99, 235), rgb(105, 158, 255));"/><path d="M 558.76 140 L 550.76 144 L 552.76 140 L 550.76 136 Z" fill="#2563eb" stroke="#2563eb" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(37, 99, 235), rgb(105, 158, 255)); stroke: light-dark(rgb(37, 99, 235), rgb(105, 158, 255));"/></g></g><g data-cell-id="layer1-arrow3"><g transform="translate(0.5,0.5)"><path d="M 701 140 L 800.76 140" fill="none" stroke="#2563eb" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(37, 99, 235), rgb(105, 158, 255));"/><path d="M 806.76 140 L 798.76 144 L 800.76 140 L 798.76 136 Z" fill="#2563eb" stroke="#2563eb" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(37, 99, 235), rgb(105, 158, 255)); stroke: light-dark(rgb(37, 99, 235), rgb(105, 158, 255));"/></g></g><g data-cell-id="layer2-bg"><g transform="translate(0.5,0.5)"><rect x="1" y="230" width="1030" height="140" rx="21" ry="21" fill="#f0fdf4" stroke="#10b981" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(240, 253, 244), rgb(15, 26, 19)); stroke: light-dark(rgb(16, 185, 129), rgb(2, 147, 99));"/></g></g><g data-cell-id="layer2-title"><g transform="translate(0.5,0.5)"><rect x="21" y="240" width="350" height="25" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 247px; margin-left: 23px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #065F46; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: light-dark(#065F46, #72bfa9); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">Layer 2: Indexing (The Pantry)</div></div></div></foreignObject><text x="23" y="261" fill="#065F46" font-family="Helvetica" font-size="14px" font-weight="bold">Layer 2: Indexing (The Pantry)</text></switch></g></g></g><g data-cell-id="layer2-track1"><g transform="translate(0.5,0.5)"><rect x="41" y="280" width="110" height="50" rx="7.5" ry="7.5" fill="#d1fae5" stroke="#10b981" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(209, 250, 229), rgb(4, 39, 21)); stroke: light-dark(rgb(16, 185, 129), rgb(2, 147, 99));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 305px; margin-left: 42px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Contextual Chunker</div></div></div></foreignObject><text x="96" y="308" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">Contextual Chunker</text></switch></g></g></g><g data-cell-id="layer2-track2"><g transform="translate(0.5,0.5)"><rect x="241" y="280" width="110" height="50" rx="7.5" ry="7.5" fill="#d1fae5" stroke="#10b981" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(209, 250, 229), rgb(4, 39, 21)); stroke: light-dark(rgb(16, 185, 129), rgb(2, 147, 99));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 305px; margin-left: 242px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Embedding Model</div></div></div></foreignObject><text x="296" y="308" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">Embedding Model</text></switch></g></g></g><g data-cell-id="layer2-track3"><g transform="translate(0.5,0.5)"><rect x="451" y="280" width="110" height="50" rx="7.5" ry="7.5" fill="#a7f3d0" stroke="#10b981" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(167, 243, 208), rgb(0, 60, 30)); stroke: light-dark(rgb(16, 185, 129), rgb(2, 147, 99));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 305px; margin-left: 452px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Vector DB</div></div></div></foreignObject><text x="506" y="308" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">Vector DB</text></switch></g></g></g><g data-cell-id="layer2-track4"><g transform="translate(0.5,0.5)"><rect x="651" y="280" width="110" height="50" rx="7.5" ry="7.5" fill="#fde68a" stroke="#f59e0b" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(253, 230, 138), rgb(61, 42, 0)); stroke: light-dark(rgb(245, 158, 11), rgb(162, 87, 0));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 305px; margin-left: 652px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">BM25 Indexer</div></div></div></foreignObject><text x="706" y="308" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">BM25 Indexer</text></switch></g></g></g><g data-cell-id="layer2-track5"><g transform="translate(0.5,0.5)"><rect x="878" y="280" width="110" height="50" rx="7.5" ry="7.5" fill="#c7d2fe" stroke="#6366f1" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(199, 210, 254), rgb(46, 55, 93)); stroke: light-dark(rgb(99, 102, 241), rgb(130, 133, 252));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 305px; margin-left: 879px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Knowledge Graph</div></div></div></foreignObject><text x="933" y="308" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">Knowledge Graph</text></switch></g></g></g><g data-cell-id="layer3-bg"><g transform="translate(0.5,0.5)"><rect x="1" y="400" width="1030" height="120" rx="18" ry="18" fill="#fef3c7" stroke="#f59e0b" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(254, 243, 199), rgb(39, 30, 0)); stroke: light-dark(rgb(245, 158, 11), rgb(162, 87, 0));"/></g></g><g data-cell-id="layer3-title"><g transform="translate(0.5,0.5)"><rect x="21" y="410" width="400" height="25" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 417px; margin-left: 23px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #78350F; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: light-dark(#78350F, #e6ac8c); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">Layer 3: Query Analysis (The Sommelier)</div></div></div></foreignObject><text x="23" y="431" fill="#78350F" font-family="Helvetica" font-size="14px" font-weight="bold">Layer 3: Query Analysis (The Sommelier)</text></switch></g></g></g><g data-cell-id="layer3-input"><g transform="translate(0.5,0.5)"><rect x="41" y="450" width="120" height="50" rx="7.5" ry="7.5" fill="#dbeafe" stroke="#2563eb" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(219, 234, 254), rgb(26, 39, 56)); stroke: light-dark(rgb(37, 99, 235), rgb(105, 158, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 475px; margin-left: 42px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">User Query</div></div></div></foreignObject><text x="101" y="478" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="11px" text-anchor="middle" font-weight="bold">User Query</text></switch></g></g></g><g data-cell-id="layer3-classifier"><g transform="translate(0.5,0.5)"><rect x="241" y="450" width="110" height="50" rx="7.5" ry="7.5" fill="#fde68a" stroke="#f59e0b" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(253, 230, 138), rgb(61, 42, 0)); stroke: light-dark(rgb(245, 158, 11), rgb(162, 87, 0));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 475px; margin-left: 242px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Query Classifier</div></div></div></foreignObject><text x="296" y="478" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">Query Classifier</text></switch></g></g></g><g data-cell-id="layer3-intent"><g transform="translate(0.5,0.5)"><rect x="451" y="450" width="110" height="50" rx="7.5" ry="7.5" fill="#fde68a" stroke="#f59e0b" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(253, 230, 138), rgb(61, 42, 0)); stroke: light-dark(rgb(245, 158, 11), rgb(162, 87, 0));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 475px; margin-left: 452px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Intent Detector</div></div></div></foreignObject><text x="506" y="478" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">Intent Detector</text></switch></g></g></g><g data-cell-id="layer3-rewriter"><g transform="translate(0.5,0.5)"><rect x="657" y="450" width="110" height="50" rx="7.5" ry="7.5" fill="#fde68a" stroke="#f59e0b" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(253, 230, 138), rgb(61, 42, 0)); stroke: light-dark(rgb(245, 158, 11), rgb(162, 87, 0));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 475px; margin-left: 658px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Query Rewriter</div></div></div></foreignObject><text x="712" y="478" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">Query Rewriter</text></switch></g></g></g><g data-cell-id="layer3-output"><g transform="translate(0.5,0.5)"><rect x="852" y="450" width="140" height="50" rx="7.5" ry="7.5" fill="#fef3c7" stroke="#f59e0b" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(254, 243, 199), rgb(39, 30, 0)); stroke: light-dark(rgb(245, 158, 11), rgb(162, 87, 0));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 475px; margin-left: 853px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Processed Query</div></div></div></foreignObject><text x="922" y="478" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">Processed Query</text></switch></g></g></g><g data-cell-id="layer3-arrow1"><g transform="translate(0.5,0.5)"><path d="M 161 475 L 232.76 475" fill="none" stroke="#f59e0b" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(245, 158, 11), rgb(162, 87, 0));"/><path d="M 238.76 475 L 230.76 479 L 232.76 475 L 230.76 471 Z" fill="#f59e0b" stroke="#f59e0b" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(245, 158, 11), rgb(162, 87, 0)); stroke: light-dark(rgb(245, 158, 11), rgb(162, 87, 0));"/></g></g><g data-cell-id="layer3-arrow2"><g transform="translate(0.5,0.5)"><path d="M 351 475 L 442.76 475" fill="none" stroke="#f59e0b" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(245, 158, 11), rgb(162, 87, 0));"/><path d="M 448.76 475 L 440.76 479 L 442.76 475 L 440.76 471 Z" fill="#f59e0b" stroke="#f59e0b" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(245, 158, 11), rgb(162, 87, 0)); stroke: light-dark(rgb(245, 158, 11), rgb(162, 87, 0));"/></g></g><g data-cell-id="layer3-arrow3"><g transform="translate(0.5,0.5)"><path d="M 561 475 L 648.76 475" fill="none" stroke="#f59e0b" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(245, 158, 11), rgb(162, 87, 0));"/><path d="M 654.76 475 L 646.76 479 L 648.76 475 L 646.76 471 Z" fill="#f59e0b" stroke="#f59e0b" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(245, 158, 11), rgb(162, 87, 0)); stroke: light-dark(rgb(245, 158, 11), rgb(162, 87, 0));"/></g></g><g data-cell-id="layer3-arrow4"><g transform="translate(0.5,0.5)"><path d="M 767 475 L 843.76 475" fill="none" stroke="#f59e0b" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(245, 158, 11), rgb(162, 87, 0));"/><path d="M 849.76 475 L 841.76 479 L 843.76 475 L 841.76 471 Z" fill="#f59e0b" stroke="#f59e0b" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(245, 158, 11), rgb(162, 87, 0)); stroke: light-dark(rgb(245, 158, 11), rgb(162, 87, 0));"/></g></g><g data-cell-id="layer4-bg"><g transform="translate(0.5,0.5)"><rect x="1" y="550" width="1030" height="120" rx="18" ry="18" fill="#e0e7ff" stroke="#6366f1" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(224, 231, 255), rgb(31, 38, 58)); stroke: light-dark(rgb(99, 102, 241), rgb(130, 133, 252));"/></g></g><g data-cell-id="layer4-title"><g transform="translate(0.5,0.5)"><rect x="21" y="560" width="400" height="25" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 567px; margin-left: 23px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #312E81; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: light-dark(#312E81, #bdbaff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">Layer 4: Retrieval (Kitchen Brigade)</div></div></div></foreignObject><text x="23" y="581" fill="#312E81" font-family="Helvetica" font-size="14px" font-weight="bold">Layer 4: Retrieval (Kitchen Brigade)</text></switch></g></g></g><g data-cell-id="layer4-vector"><g transform="translate(0.5,0.5)"><rect x="41" y="600" width="110" height="50" rx="7.5" ry="7.5" fill="#c7d2fe" stroke="#6366f1" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(199, 210, 254), rgb(46, 55, 93)); stroke: light-dark(rgb(99, 102, 241), rgb(130, 133, 252));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 625px; margin-left: 42px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Vector Retriever</div></div></div></foreignObject><text x="96" y="628" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">Vector Retriever</text></switch></g></g></g><g data-cell-id="layer4-bm25"><g transform="translate(0.5,0.5)"><rect x="234" y="600" width="110" height="50" rx="7.5" ry="7.5" fill="#c7d2fe" stroke="#6366f1" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(199, 210, 254), rgb(46, 55, 93)); stroke: light-dark(rgb(99, 102, 241), rgb(130, 133, 252));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 625px; margin-left: 235px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">BM25 Retriever</div></div></div></foreignObject><text x="289" y="628" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">BM25 Retriever</text></switch></g></g></g><g data-cell-id="layer4-graph"><g transform="translate(0.5,0.5)"><rect x="431" y="600" width="110" height="50" rx="7.5" ry="7.5" fill="#c7d2fe" stroke="#6366f1" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(199, 210, 254), rgb(46, 55, 93)); stroke: light-dark(rgb(99, 102, 241), rgb(130, 133, 252));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 625px; margin-left: 432px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Graph Retriever</div></div></div></foreignObject><text x="486" y="628" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">Graph Retriever</text></switch></g></g></g><g data-cell-id="layer4-pageindex"><g transform="translate(0.5,0.5)"><rect x="647" y="600" width="130" height="50" rx="7.5" ry="7.5" fill="#c7d2fe" stroke="#6366f1" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(199, 210, 254), rgb(46, 55, 93)); stroke: light-dark(rgb(99, 102, 241), rgb(130, 133, 252));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 625px; margin-left: 648px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">PageIndex Navigator</div></div></div></foreignObject><text x="712" y="628" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">PageIndex Navigator</text></switch></g></g></g><g data-cell-id="layer4-fusion"><g transform="translate(0.5,0.5)"><rect x="869" y="600" width="120" height="50" rx="7.5" ry="7.5" fill="#a5b4fc" stroke="#6366f1" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(165, 180, 252), rgb(66, 79, 141)); stroke: light-dark(rgb(99, 102, 241), rgb(130, 133, 252));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 625px; margin-left: 870px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Fusion Module</div></div></div></foreignObject><text x="929" y="628" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="11px" text-anchor="middle" font-weight="bold">Fusion Module</text></switch></g></g></g><g data-cell-id="layer5-bg"><g transform="translate(0.5,0.5)"><rect x="1" y="700" width="1030" height="120" rx="18" ry="18" fill="#fce7f3" stroke="#ec4899" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(252, 231, 243), rgb(47, 29, 39)); stroke: light-dark(rgb(236, 72, 153), rgb(246, 105, 174));"/></g></g><g data-cell-id="layer5-title"><g transform="translate(0.5,0.5)"><rect x="21" y="710" width="450" height="25" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 717px; margin-left: 23px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #831843; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: light-dark(#831843, #ffacd1); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">Layer 5: Reasoning and Ranking (The Chef)</div></div></div></foreignObject><text x="23" y="731" fill="#831843" font-family="Helvetica" font-size="14px" font-weight="bold">Layer 5: Reasoning and Ranking (The Chef)</text></switch></g></g></g><g data-cell-id="layer5-input"><g transform="translate(0.5,0.5)"><rect x="41" y="750" width="120" height="50" rx="7.5" ry="7.5" fill="#c7d2fe" stroke="#6366f1" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(199, 210, 254), rgb(46, 55, 93)); stroke: light-dark(rgb(99, 102, 241), rgb(130, 133, 252));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 775px; margin-left: 42px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Candidate Context</div></div></div></foreignObject><text x="101" y="778" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">Candidate Context</text></switch></g></g></g><g data-cell-id="layer5-reranker"><g transform="translate(0.5,0.5)"><rect x="291" y="750" width="130" height="50" rx="7.5" ry="7.5" fill="#fbcfe8" stroke="#ec4899" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(251, 207, 232), rgb(78, 40, 61)); stroke: light-dark(rgb(236, 72, 153), rgb(246, 105, 174));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 775px; margin-left: 292px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Reranker (Cross-Encoder)</div></div></div></foreignObject><text x="356" y="778" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">Reranker (Cross-Encoder)</text></switch></g></g></g><g data-cell-id="layer5-reasoning"><g transform="translate(0.5,0.5)"><rect x="561" y="750" width="160" height="50" rx="7.5" ry="7.5" fill="#fbcfe8" stroke="#ec4899" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(251, 207, 232), rgb(78, 40, 61)); stroke: light-dark(rgb(236, 72, 153), rgb(246, 105, 174));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 775px; margin-left: 562px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Self-Reasoning Loop</div></div></div></foreignObject><text x="641" y="778" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="11px" text-anchor="middle" font-weight="bold">Self-Reasoning Loop</text></switch></g></g></g><g data-cell-id="layer5-output"><g transform="translate(0.5,0.5)"><rect x="862" y="750" width="130" height="50" rx="7.5" ry="7.5" fill="#f9a8d4" stroke="#ec4899" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(249, 168, 212), rgb(128, 58, 96)); stroke: light-dark(rgb(236, 72, 153), rgb(246, 105, 174));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 775px; margin-left: 863px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Validated Context</div></div></div></foreignObject><text x="927" y="778" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="11px" text-anchor="middle" font-weight="bold">Validated Context</text></switch></g></g></g><g data-cell-id="layer5-arrow1"><g transform="translate(0.5,0.5)"><path d="M 161 775 L 282.76 775" fill="none" stroke="#ec4899" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(236, 72, 153), rgb(246, 105, 174));"/><path d="M 288.76 775 L 280.76 779 L 282.76 775 L 280.76 771 Z" fill="#ec4899" stroke="#ec4899" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(236, 72, 153), rgb(246, 105, 174)); stroke: light-dark(rgb(236, 72, 153), rgb(246, 105, 174));"/></g></g><g data-cell-id="layer5-arrow2"><g transform="translate(0.5,0.5)"><path d="M 421 775 L 552.76 775" fill="none" stroke="#ec4899" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(236, 72, 153), rgb(246, 105, 174));"/><path d="M 558.76 775 L 550.76 779 L 552.76 775 L 550.76 771 Z" fill="#ec4899" stroke="#ec4899" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(236, 72, 153), rgb(246, 105, 174)); stroke: light-dark(rgb(236, 72, 153), rgb(246, 105, 174));"/></g></g><g data-cell-id="layer5-arrow3"><g transform="translate(0.5,0.5)"><path d="M 721 775 L 853.76 775" fill="none" stroke="#ec4899" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(236, 72, 153), rgb(246, 105, 174));"/><path d="M 859.76 775 L 851.76 779 L 853.76 775 L 851.76 771 Z" fill="#ec4899" stroke="#ec4899" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(236, 72, 153), rgb(246, 105, 174)); stroke: light-dark(rgb(236, 72, 153), rgb(246, 105, 174));"/></g></g><g data-cell-id="layer6-bg"><g transform="translate(0.5,0.5)"><rect x="1" y="850" width="1030" height="120" rx="18" ry="18" fill="#dbeafe" stroke="#2563eb" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(219, 234, 254), rgb(26, 39, 56)); stroke: light-dark(rgb(37, 99, 235), rgb(105, 158, 255));"/></g></g><g data-cell-id="layer6-title"><g transform="translate(0.5,0.5)"><rect x="21" y="860" width="350" height="25" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 867px; margin-left: 23px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #1E3A8A; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: light-dark(#1E3A8A, #a3bbff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">Layer 6: Generation (Plating)</div></div></div></foreignObject><text x="23" y="881" fill="#1E3A8A" font-family="Helvetica" font-size="14px" font-weight="bold">Layer 6: Generation (Plating)</text></switch></g></g></g><g data-cell-id="layer6-context"><g transform="translate(0.5,0.5)"><rect x="41" y="900" width="110" height="50" rx="7.5" ry="7.5" fill="#f9a8d4" stroke="#ec4899" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(249, 168, 212), rgb(128, 58, 96)); stroke: light-dark(rgb(236, 72, 153), rgb(246, 105, 174));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 925px; margin-left: 42px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Validated Context</div></div></div></foreignObject><text x="96" y="928" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">Validated Context</text></switch></g></g></g><g data-cell-id="layer6-llm"><g transform="translate(0.5,0.5)"><rect x="241" y="900" width="120" height="50" rx="7.5" ry="7.5" fill="#93c5fd" stroke="#2563eb" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(147, 197, 253), rgb(36, 79, 127)); stroke: light-dark(rgb(37, 99, 235), rgb(105, 158, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 925px; margin-left: 242px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">LLM Generator</div></div></div></foreignObject><text x="301" y="928" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="11px" text-anchor="middle" font-weight="bold">LLM Generator</text></switch></g></g></g><g data-cell-id="layer6-citations"><g transform="translate(0.5,0.5)"><rect x="451" y="900" width="110" height="50" rx="7.5" ry="7.5" fill="#93c5fd" stroke="#2563eb" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(147, 197, 253), rgb(36, 79, 127)); stroke: light-dark(rgb(37, 99, 235), rgb(105, 158, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 925px; margin-left: 452px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Citation Mapper</div></div></div></foreignObject><text x="506" y="928" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">Citation Mapper</text></switch></g></g></g><g data-cell-id="layer6-quality"><g transform="translate(0.5,0.5)"><rect x="647" y="900" width="110" height="50" rx="7.5" ry="7.5" fill="#93c5fd" stroke="#2563eb" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(147, 197, 253), rgb(36, 79, 127)); stroke: light-dark(rgb(37, 99, 235), rgb(105, 158, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 925px; margin-left: 648px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Quality Checker</div></div></div></foreignObject><text x="702" y="928" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">Quality Checker</text></switch></g></g></g><g data-cell-id="layer6-output"><g><rect x="837" y="900" width="150" height="50" rx="7.5" ry="7.5" fill="#3b82f6" stroke="#2563eb" stroke-width="3" pointer-events="all" style="fill: light-dark(rgb(59, 130, 246), rgb(76, 137, 236)); stroke: light-dark(rgb(37, 99, 235), rgb(105, 158, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 925px; margin-left: 838px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #FFFFFF; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: light-dark(#FFFFFF, #121212); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Final Answer with Evidence</div></div></div></foreignObject><text x="912" y="928" fill="#FFFFFF" font-family="Helvetica" font-size="11px" text-anchor="middle" font-weight="bold">Final Answer with Evidence</text></switch></g></g></g><g data-cell-id="layer6-arrow1"><g transform="translate(0.5,0.5)"><path d="M 151 925 L 232.76 925" fill="none" stroke="#2563eb" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(37, 99, 235), rgb(105, 158, 255));"/><path d="M 238.76 925 L 230.76 929 L 232.76 925 L 230.76 921 Z" fill="#2563eb" stroke="#2563eb" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(37, 99, 235), rgb(105, 158, 255)); stroke: light-dark(rgb(37, 99, 235), rgb(105, 158, 255));"/></g></g><g data-cell-id="layer6-arrow2"><g transform="translate(0.5,0.5)"><path d="M 361 925 L 442.76 925" fill="none" stroke="#2563eb" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(37, 99, 235), rgb(105, 158, 255));"/><path d="M 448.76 925 L 440.76 929 L 442.76 925 L 440.76 921 Z" fill="#2563eb" stroke="#2563eb" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(37, 99, 235), rgb(105, 158, 255)); stroke: light-dark(rgb(37, 99, 235), rgb(105, 158, 255));"/></g></g><g data-cell-id="layer6-arrow3"><g transform="translate(0.5,0.5)"><path d="M 561 925 L 638.76 925" fill="none" stroke="#2563eb" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(37, 99, 235), rgb(105, 158, 255));"/><path d="M 644.76 925 L 636.76 929 L 638.76 925 L 636.76 921 Z" fill="#2563eb" stroke="#2563eb" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(37, 99, 235), rgb(105, 158, 255)); stroke: light-dark(rgb(37, 99, 235), rgb(105, 158, 255));"/></g></g><g data-cell-id="layer6-arrow4"><g><path d="M 757 925 L 826.9 925" fill="none" stroke="#2563eb" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(37, 99, 235), rgb(105, 158, 255));"/><path d="M 833.65 925 L 824.65 929.5 L 826.9 925 L 824.65 920.5 Z" fill="#2563eb" stroke="#2563eb" stroke-width="3" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(37, 99, 235), rgb(105, 158, 255)); stroke: light-dark(rgb(37, 99, 235), rgb(105, 158, 255));"/></g></g><g data-cell-id="monitoring-bg"><g transform="translate(0.5,0.5)"><rect x="1051" y="60" width="600" height="200" rx="30" ry="30" fill="#f3f4f6" stroke="#6b7280" stroke-width="2" stroke-dasharray="6 6" pointer-events="all" style="fill: light-dark(rgb(243, 244, 246), rgb(26, 27, 28)); stroke: light-dark(rgb(107, 114, 128), rgb(134, 140, 152));"/></g></g><g data-cell-id="monitoring-title"><g transform="translate(0.5,0.5)"><rect x="1101" y="75" width="500" height="25" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 82px; margin-left: 1351px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #374151; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: light-dark(#374151, #aeb7c5); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">Monitoring and Feedback</div></div></div></foreignObject><text x="1351" y="96" fill="#374151" font-family="Helvetica" font-size="14px" text-anchor="middle" font-weight="bold">Monitoring and Feedback</text></switch></g></g></g><g data-cell-id="monitoring-ragas"><g transform="translate(0.5,0.5)"><rect x="1081" y="120" width="180" height="40" rx="6" ry="6" fill="#dbeafe" stroke="#2563eb" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(219, 234, 254), rgb(26, 39, 56)); stroke: light-dark(rgb(37, 99, 235), rgb(105, 158, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 140px; margin-left: 1082px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">RAGAS Evaluator (Continuous)</div></div></div></foreignObject><text x="1171" y="143" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">RAGAS Evaluator (Continuous)</text></switch></g></g></g><g data-cell-id="monitoring-feedback"><g transform="translate(0.5,0.5)"><rect x="1301" y="120" width="180" height="40" rx="6" ry="6" fill="#d1fae5" stroke="#10b981" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(209, 250, 229), rgb(4, 39, 21)); stroke: light-dark(rgb(16, 185, 129), rgb(2, 147, 99));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 140px; margin-left: 1302px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">User Feedback Collector</div></div></div></foreignObject><text x="1391" y="143" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">User Feedback Collector</text></switch></g></g></g><g data-cell-id="monitoring-dashboard"><g transform="translate(0.5,0.5)"><rect x="1081" y="180" width="180" height="40" rx="6" ry="6" fill="#fef3c7" stroke="#f59e0b" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(254, 243, 199), rgb(39, 30, 0)); stroke: light-dark(rgb(245, 158, 11), rgb(162, 87, 0));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 200px; margin-left: 1082px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Metric Dashboard (Real-time)</div></div></div></foreignObject><text x="1171" y="203" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">Metric Dashboard (Real-time)</text></switch></g></g></g><g data-cell-id="monitoring-loop"><g transform="translate(0.5,0.5)"><rect x="1301" y="180" width="180" height="40" rx="6" ry="6" fill="#e0e7ff" stroke="#6366f1" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(rgb(224, 231, 255), rgb(31, 38, 58)); stroke: light-dark(rgb(99, 102, 241), rgb(130, 133, 252));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 200px; margin-left: 1302px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; word-wrap: normal; ">Feedback to Layers 2 and 5</div></div></div></foreignObject><text x="1391" y="203" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="9px" text-anchor="middle" font-weight="bold">Feedback to Layers 2 and 5</text></switch></g></g></g><g data-cell-id="legend-bg"><g transform="translate(0.5,0.5)"><rect x="1052" y="300" width="600" height="200" rx="30" ry="30" fill="#ffffff" stroke="#e5e7eb" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(255, 255, 255), rgb(18, 18, 18)); stroke: light-dark(rgb(229, 231, 235), rgb(36, 38, 41));"/></g></g><g data-cell-id="legend-title"><g transform="translate(0.5,0.5)"><rect x="1252" y="310" width="200" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 317px; margin-left: 1352px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #111827; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#111827, #d4dae7); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">Legend</div></div></div></foreignObject><text x="1352" y="329" fill="#111827" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">Legend</text></switch></g></g></g><g data-cell-id="legend-data-arrow"><g transform="translate(0.5,0.5)"><path d="M 1082 350 L 1123.76 350" fill="none" stroke="#2563eb" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(37, 99, 235), rgb(105, 158, 255));"/><path d="M 1129.76 350 L 1121.76 354 L 1123.76 350 L 1121.76 346 Z" fill="#2563eb" stroke="#2563eb" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(37, 99, 235), rgb(105, 158, 255)); stroke: light-dark(rgb(37, 99, 235), rgb(105, 158, 255));"/></g></g><g data-cell-id="legend-data-text"><g transform="translate(0.5,0.5)"><rect x="1142" y="340" width="120" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 347px; margin-left: 1144px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">Data Flow</div></div></div></foreignObject><text x="1144" y="356" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="9px" font-weight="bold">Data Flow</text></switch></g></g></g><g data-cell-id="legend-control-arrow"><g transform="translate(0.5,0.5)"><path d="M 1082 380 L 1123.76 380" fill="none" stroke="#f59e0b" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(245, 158, 11), rgb(162, 87, 0));"/><path d="M 1129.76 380 L 1121.76 384 L 1123.76 380 L 1121.76 376 Z" fill="#f59e0b" stroke="#f59e0b" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(245, 158, 11), rgb(162, 87, 0)); stroke: light-dark(rgb(245, 158, 11), rgb(162, 87, 0));"/></g></g><g data-cell-id="legend-control-text"><g transform="translate(0.5,0.5)"><rect x="1142" y="370" width="120" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 377px; margin-left: 1144px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">Control Flow</div></div></div></foreignObject><text x="1144" y="386" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="9px" font-weight="bold">Control Flow</text></switch></g></g></g><g data-cell-id="legend-feedback-arrow"><g transform="translate(0.5,0.5)"><path d="M 1082 410 L 1123.76 410" fill="none" stroke="#10b981" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6 6" pointer-events="stroke" style="stroke: light-dark(rgb(16, 185, 129), rgb(2, 147, 99));"/><path d="M 1129.76 410 L 1121.76 414 L 1123.76 410 L 1121.76 406 Z" fill="#10b981" stroke="#10b981" stroke-width="2" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(16, 185, 129), rgb(2, 147, 99)); stroke: light-dark(rgb(16, 185, 129), rgb(2, 147, 99));"/></g></g><g data-cell-id="legend-feedback-text"><g transform="translate(0.5,0.5)"><rect x="1142" y="400" width="120" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 407px; margin-left: 1144px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">Feedback Loop</div></div></div></foreignObject><text x="1144" y="416" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="9px" font-weight="bold">Feedback Loop</text></switch></g></g></g><g data-cell-id="legend-mandatory"><g transform="translate(0.5,0.5)"><rect x="1082" y="440" width="50" height="30" rx="4.5" ry="4.5" fill="#fef3c7" stroke="#f59e0b" stroke-width="2" pointer-events="all" style="fill: light-dark(rgb(254, 243, 199), rgb(39, 30, 0)); stroke: light-dark(rgb(245, 158, 11), rgb(162, 87, 0));"/></g></g><g data-cell-id="legend-mandatory-text"><g transform="translate(0.5,0.5)"><rect x="1142" y="445" width="150" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 452px; margin-left: 1144px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">Mandatory Component</div></div></div></foreignObject><text x="1144" y="461" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="9px" font-weight="bold">Mandatory Component</text></switch></g></g></g><g data-cell-id="legend-optional"><g transform="translate(0.5,0.5)"><rect x="1352" y="440" width="50" height="30" rx="4.5" ry="4.5" fill="#ffffff" stroke="#6b7280" stroke-width="2" stroke-dasharray="6 6" pointer-events="all" style="fill: light-dark(rgb(255, 255, 255), rgb(18, 18, 18)); stroke: light-dark(rgb(107, 114, 128), rgb(134, 140, 152));"/></g></g><g data-cell-id="legend-optional-text"><g transform="translate(0.5,0.5)"><rect x="1412" y="445" width="150" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 452px; margin-left: 1414px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; color: #000000; "><div style="display: inline-block; font-size: 9px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">Optional Component</div></div></div></foreignObject><text x="1414" y="461" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="9px" font-weight="bold">Optional Component</text></switch></g></g></g><g data-cell-id="vertical-flow1"><g><path d="M 533 200 L 533 219.9" fill="none" stroke="#6b7280" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(107, 114, 128), rgb(134, 140, 152));"/><path d="M 533 226.65 L 528.5 217.65 L 533 219.9 L 537.5 217.65 Z" fill="#6b7280" stroke="#6b7280" stroke-width="3" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(107, 114, 128), rgb(134, 140, 152)); stroke: light-dark(rgb(107, 114, 128), rgb(134, 140, 152));"/></g></g><g data-cell-id="vertical-flow2"><g><path d="M 534 370 L 534 389.9" fill="none" stroke="#6b7280" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(107, 114, 128), rgb(134, 140, 152));"/><path d="M 534 396.65 L 529.5 387.65 L 534 389.9 L 538.5 387.65 Z" fill="#6b7280" stroke="#6b7280" stroke-width="3" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(107, 114, 128), rgb(134, 140, 152)); stroke: light-dark(rgb(107, 114, 128), rgb(134, 140, 152));"/></g></g><g data-cell-id="vertical-flow3"><g><path d="M 533 520 L 533 539.9" fill="none" stroke="#6b7280" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(107, 114, 128), rgb(134, 140, 152));"/><path d="M 533 546.65 L 528.5 537.65 L 533 539.9 L 537.5 537.65 Z" fill="#6b7280" stroke="#6b7280" stroke-width="3" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(107, 114, 128), rgb(134, 140, 152)); stroke: light-dark(rgb(107, 114, 128), rgb(134, 140, 152));"/></g></g><g data-cell-id="vertical-flow4"><g><path d="M 531 670 L 531 689.9" fill="none" stroke="#6b7280" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(107, 114, 128), rgb(134, 140, 152));"/><path d="M 531 696.65 L 526.5 687.65 L 531 689.9 L 535.5 687.65 Z" fill="#6b7280" stroke="#6b7280" stroke-width="3" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(107, 114, 128), rgb(134, 140, 152)); stroke: light-dark(rgb(107, 114, 128), rgb(134, 140, 152));"/></g></g><g data-cell-id="vertical-flow5"><g><path d="M 531 820 L 531 839.9" fill="none" stroke="#6b7280" stroke-width="3" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(107, 114, 128), rgb(134, 140, 152));"/><path d="M 531 846.65 L 526.5 837.65 L 531 839.9 L 535.5 837.65 Z" fill="#6b7280" stroke="#6b7280" stroke-width="3" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(107, 114, 128), rgb(134, 140, 152)); stroke: light-dark(rgb(107, 114, 128), rgb(134, 140, 152));"/></g></g></g></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.drawio.com/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>